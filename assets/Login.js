import{u as S,r as f,a as U,o as q,c as g,b as e,d,g as F,t as s,e as n,w as c,f as l,h as z,i as u,j as L,k as R,l as b,m as _}from"./index.js";import{g as D,l as E}from"./auth.js";import{C as M}from"./Captcha.js";import{_ as T}from"./_plugin-vue_export-helper.js";const j={class:"dark-tech-auth"},A={class:"auth-grid"},G={class:"branding-side"},P={class:"brand-content"},H={class:"logo-container"},J=["src","alt"],K={key:1,class:"brand-title"},O={class:"brand-desc"},Q={class:"features"},W={class:"feature-badge"},X={class:"feature-badge"},Y={class:"feature-badge"},Z={class:"form-side"},x={class:"glass-card form-container"},ee={class:"form-header"},ae={class:"form-options"},te={href:"#/forgot-password",class:"link-primary"},se={class:"form-footer"},oe={href:"#/register",class:"link-primary"},ne={__name:"Login",setup(re){const{t:m}=S(),r=F(),y=f({}),p=f(!1),h=f(null),k=z(),o=U({email:"",password:"",remember:!0}),w=a=>{h.value=a};q(async()=>{try{const a=await D();a.data&&(y.value=a.data)}catch(a){console.error("Failed to fetch guest config:",a)}});const $=async a=>{if(r.enableCaptcha){if(h.value===null)return _.error(m("auth.enterCaptcha"));if(h.value===!1)return _.error(m("auth.captchaInvalid"))}p.value=!0;try{const t=await E(a);t.data&&(localStorage.setItem("auth_token",t.data.auth_data),_.success(m("auth.loginSuccess")),k.push("/"))}catch(t){console.error("Login error:",t)}finally{p.value=!1}};return(a,t)=>{const C=l("a-input"),v=l("a-form-item"),N=l("a-input-password"),B=l("a-checkbox"),V=l("a-button"),I=l("a-form");return u(),g("div",j,[e("div",A,[e("div",G,[e("div",P,[e("div",H,[t[3]||(t[3]=e("div",{class:"logo-glow"},null,-1)),d(r).logoUrl?(u(),g("img",{key:0,src:d(r).logoUrl,alt:d(r).siteName,class:"brand-logo-image"},null,8,J)):(u(),g("h1",K,s(d(r).siteName),1))]),e("p",O,s(a.$t("auth.brandDesc")),1),e("div",Q,[e("div",W,[t[4]||(t[4]=e("div",{class:"badge-icon"},"ðŸ”’",-1)),e("span",null,s(a.$t("auth.enterpriseEncryption")),1)]),e("div",X,[t[5]||(t[5]=e("div",{class:"badge-icon"},"ðŸŒ",-1)),e("span",null,s(a.$t("auth.globalNodes")),1)]),e("div",Y,[t[6]||(t[6]=e("div",{class:"badge-icon"},"âš¡",-1)),e("span",null,s(a.$t("auth.ultraFastConnection")),1)])])])]),e("div",Z,[e("div",x,[e("div",ee,[e("h2",null,s(a.$t("auth.welcomeBack")),1),e("p",null,s(a.$t("auth.loginSubtitle")),1)]),n(I,{model:o,onFinish:$,layout:"vertical"},{default:c(()=>[n(v,{label:a.$t("auth.email"),name:"email",rules:[{required:!0,message:a.$t("validation.emailRequired")},{type:"email",message:a.$t("validation.emailInvalid")}]},{default:c(()=>[n(C,{value:o.email,"onUpdate:value":t[0]||(t[0]=i=>o.email=i),placeholder:"your@email.com",size:"large"},null,8,["value"])]),_:1},8,["label","rules"]),n(v,{label:a.$t("auth.password"),name:"password",rules:[{required:!0,message:a.$t("validation.passwordRequired")}]},{default:c(()=>[n(N,{value:o.password,"onUpdate:value":t[1]||(t[1]=i=>o.password=i),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",size:"large"},null,8,["value"])]),_:1},8,["label","rules"]),d(r).enableCaptcha?(u(),L(M,{key:0,onVerify:w})):R("",!0),e("div",ae,[n(B,{checked:o.remember,"onUpdate:checked":t[2]||(t[2]=i=>o.remember=i)},{default:c(()=>[b(s(a.$t("auth.rememberMe")),1)]),_:1},8,["checked"]),e("a",te,s(a.$t("auth.forgotPassword")),1)]),n(V,{type:"primary","html-type":"submit",loading:p.value,block:"",size:"large"},{default:c(()=>[b(s(a.$t("auth.loginButton")),1)]),_:1},8,["loading"])]),_:1},8,["model"]),e("div",se,[e("span",null,s(a.$t("auth.noAccount")),1),e("a",oe,s(a.$t("auth.registerNow")),1)])])])])])}}},ue=T(ne,[["__scopeId","data-v-670cc56d"]]);export{ue as default};
